{"version":3,"file":"static/js/241.8e209178.chunk.js","mappings":"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","sources":["config.js","defillama/index.js"],"sourcesContent":["const config = {\n  api: {\n    protocols: 'https://api.llama.fi/protocols',\n    pools: 'https://yields.llama.fi/pools'\n  },\n\n  url: 'https://defillama.com/yields/pool/',\n\n  coinmarketcap: {\n    url: 'https://tusd.trx.gift/coinmarketcap/',\n    detail: 'https://coinmarketcap.com/currencies/'\n  },\n\n  backlink: [\n    { name: 'home', url: '#/defillama' },\n    { name: 'target', url: '#/coinmarketcap' },\n    { name: 'defillama', url: 'https://defillama.com' },\n    { name: 'dexscreener', url: 'https://dexscreener.com' },\n    { name: 'geckoterminal', url: 'https://geckoterminal.com' },\n    { name: 'dexview', url: 'https://dexview.com' }\n  ]\n};\n\nmodule.exports = config;\n","import { useEffect, useRef, useState } from 'react';\nimport { Input, Table, Typography } from 'antd';\nimport config from '../config';\nimport './index.css';\n\nfunction App() {\n  const [pools, setPools] = useState([]);\n  const [token0, setToken0] = useState('');\n  const [token1, setToken1] = useState('');\n  const [gtTvl, setGtTvl] = useState('100000');\n  const [ltTvl, setLtTvl] = useState('');\n  const [chain, setChain] = useState('');\n  const [project, setProject] = useState('');\n  const [tableCols] = useState([\n    {\n      title: 'POOL',\n      dataIndex: 'pool',\n      fixed: 'left',\n      width: 200,\n      render: (text, record) => (\n        <Typography.Link href={record.url} target=\"_blank\" rel=\"noreferrer\">\n          {text}\n        </Typography.Link>\n      )\n    },\n    {\n      title: 'APY(BASE)',\n      dataIndex: 'apyBase',\n      defaultSortOrder: 'descend',\n      sorter: (a, b) => a.apyBase - b.apyBase,\n      render: text => (text ? `${text}%` : '')\n    },\n    {\n      title: 'APY',\n      dataIndex: 'apy',\n      defaultSortOrder: 'descend',\n      sorter: (a, b) => a.apy - b.apy,\n      render: text => `${text}%`\n    },\n    {\n      title: 'APY(7D)',\n      dataIndex: 'apyPct7D',\n      defaultSortOrder: 'descend',\n      sorter: (a, b) => a.apyPct7D - b.apyPct7D,\n      render: text => (text ? `${text}%` : '')\n    },\n    {\n      title: 'PROJECT',\n      dataIndex: 'project'\n    },\n    {\n      title: 'CHAIN',\n      dataIndex: 'chain'\n    },\n    {\n      title: 'VOL',\n      dataIndex: 'volumeUsd1d'\n    },\n    {\n      title: 'TVL',\n      dataIndex: 'tvlUsd'\n    },\n    {\n      title: 'TOKEN',\n      dataIndex: 'underlyingTokens',\n      render: (text, record) => {\n        const tokens = record.symbol.split('-');\n        return (\n          <div className=\"defi-token-list\">\n            {tokens.map((_, i) => {\n              return (\n                <Typography.Paragraph key={_} copyable={text ? { text: text[i] } : false} style={{ margin: 0, marginRight: '1rem' }}>\n                  {_}\n                </Typography.Paragraph>\n              );\n            })}\n          </div>\n        );\n      }\n    }\n  ]);\n  const [tableData, setTableData] = useState([]);\n\n  const ref = useRef(null);\n  const tableRef = useRef(null);\n  ref.current = async () => {\n    const protocols = await (await fetch(config.api.protocols)).json();\n    const { data: pools } = await (await fetch(config.api.pools)).json();\n\n    const dexes = protocols.filter(_ => _.category === 'Dexes').map(_ => _.slug);\n    const dexPools = pools.filter(_ => {\n      if (!dexes.includes(_.project)) return false;\n      return true;\n    });\n\n    setPools(dexPools);\n  };\n  tableRef.current = () => {\n    const data = [];\n    pools\n      .filter(_ => {\n        const { apy } = _;\n        if (apy) return true;\n        return false;\n      })\n      .filter(_ => {\n        if (chain) {\n          if (_.chain.toUpperCase().includes(chain.toUpperCase())) return true;\n          return false;\n        }\n        return true;\n      })\n      .filter(_ => {\n        if (project) {\n          if (_.project.toUpperCase().includes(project.toUpperCase())) return true;\n          return false;\n        }\n        return true;\n      })\n      .filter(_ => {\n        if (gtTvl) {\n          if (Number(_.tvlUsd) > Number(gtTvl)) return true;\n          return false;\n        }\n        return true;\n      })\n      .filter(_ => {\n        if (ltTvl) {\n          if (Number(_.tvlUsd) < Number(ltTvl)) return true;\n          return false;\n        }\n        return true;\n      })\n      .filter(_ => {\n        const { symbol } = _;\n        const tokens = symbol.split('-');\n\n        if (tokens.length < 2) return false;\n\n        const _token0 = token0.toUpperCase();\n        const _token1 = token1.toUpperCase();\n\n        if (_token0) {\n          if (_token1) {\n            if (tokens[0].includes(_token0) && tokens[1].includes(_token1)) return true;\n            if (tokens[0].includes(_token1) && tokens[1].includes(_token0)) return true;\n            return false;\n          } else {\n            if (tokens[0].includes(_token0) || tokens[1].includes(_token0)) return true;\n            return false;\n          }\n        } else {\n          if (_token1) {\n            if (tokens[0].includes(_token1) || tokens[1].includes(_token1)) return true;\n            return false;\n          }\n        }\n\n        return true;\n      })\n      .forEach((_, i) => {\n        const fee = _.poolMeta ? _.poolMeta.split(', ')[0] : '';\n\n        data.push({\n          key: i,\n          'pool': `${_.symbol}${fee ? `(${fee})` : ''}`,\n          'symbol': _.symbol,\n          'apyBase': _.apyBase,\n          'apy': _.apy,\n          'apyPct7D': _.apyPct7D,\n          'project': _.project,\n          'chain': _.chain,\n          'volumeUsd1d': nFormatter(_.volumeUsd1d),\n          'tvlUsd': nFormatter(_.tvlUsd),\n          'underlyingTokens': _.underlyingTokens,\n          'url': `${config.url}${_.pool}`\n        });\n      });\n\n    setTableData(data);\n  };\n\n  const nFormatter = (num, digits = 1) => {\n    const lookup = [\n      { value: 1, symbol: '' },\n      { value: 1e3, symbol: 'k' },\n      { value: 1e6, symbol: 'M' },\n      { value: 1e9, symbol: 'G' },\n      { value: 1e12, symbol: 'T' },\n      { value: 1e15, symbol: 'P' },\n      { value: 1e18, symbol: 'E' }\n    ];\n    const rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n    var item = lookup\n      .slice()\n      .reverse()\n      .find(function (item) {\n        return num >= item.value;\n      });\n    return item ? (num / item.value).toFixed(digits).replace(rx, '$1') + item.symbol : '0';\n  };\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      tableRef.current();\n    }, 200);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [token0, token1, gtTvl, ltTvl, chain, project, pools]);\n\n  useEffect(() => {\n    ref.current();\n  }, []);\n\n  return (\n    <div className=\"defi-app\">\n      <div className=\"defi-token-inputs\">\n        <div className=\"defi-token-input\">\n          <Typography.Text>Token0:</Typography.Text>\n          <Input value={token0} onChange={e => setToken0(e.target.value)} />\n        </div>\n        <div className=\"defi-token-input\">\n          <Typography.Text>Token1:</Typography.Text>\n          <Input value={token1} onChange={e => setToken1(e.target.value)} />\n        </div>\n      </div>\n      <div className=\"defi-token-inputs\">\n        <div className=\"defi-token-input\">\n          <Typography.Text>TVL&nbsp;{'>:'}</Typography.Text>\n          <Input value={gtTvl} onChange={e => setGtTvl(e.target.value)} />\n        </div>\n        <div className=\"defi-token-input\">\n          <Typography.Text>TVL&nbsp;{'<:'}</Typography.Text>\n          <Input value={ltTvl} onChange={e => setLtTvl(e.target.value)} />\n        </div>\n      </div>\n      <div className=\"defi-token-inputs\">\n        <div className=\"defi-token-input\">\n          <Typography.Text>Chain:</Typography.Text>\n          <Input value={chain} onChange={e => setChain(e.target.value)} />\n        </div>\n        <div className=\"defi-token-input\">\n          <Typography.Text>Project:</Typography.Text>\n          <Input value={project} onChange={e => setProject(e.target.value)} />\n        </div>\n      </div>\n\n      <Table columns={tableCols} dataSource={tableData} scroll={{ x: 'max-content' }} pagination={{ pageSize: 100 }} />\n    </div>\n  );\n}\n\nexport default App;\n"],"names":["module","exports","api","protocols","pools","url","coinmarketcap","detail","backlink","name","setPools","useState","token0","setToken0","token1","setToken1","gtTvl","setGtTvl","ltTvl","setLtTvl","chain","setChain","project","setProject","tableCols","title","dataIndex","fixed","width","render","text","record","_jsx","Typography","Link","href","target","rel","children","defaultSortOrder","sorter","a","b","apyBase","concat","apy","apyPct7D","tokens","symbol","split","className","map","_","i","Paragraph","copyable","style","margin","marginRight","tableData","setTableData","ref","useRef","tableRef","current","async","fetch","config","json","data","dexes","filter","category","slug","dexPools","includes","toUpperCase","Number","tvlUsd","length","_token0","_token1","forEach","fee","poolMeta","push","key","nFormatter","volumeUsd1d","underlyingTokens","pool","num","digits","arguments","undefined","item","value","slice","reverse","find","toFixed","replace","useEffect","timer","setTimeout","clearTimeout","_jsxs","Text","Input","onChange","e","Table","columns","dataSource","scroll","x","pagination","pageSize"],"sourceRoot":""}